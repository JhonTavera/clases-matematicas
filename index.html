<!doctype html>
<html lang="es">
<head>
  <meta name="google-site-verification" content="BLKs_-ciNXuEIIuRlkfnAwS2pvIhlNUR5qeVY9FW7Oc" />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Clases de Matemáticas</title>
  <style>
    :root { --maxw: 980px; }
    * { box-sizing: border-box; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; color: #111; background: #fff; }
    header { padding: 2rem 1rem; background: #f6f7fb; border-bottom: 1px solid #e8e9ef; }
    h1 { margin: 0 0 .5rem; font-size: clamp(1.6rem, 3vw, 2.2rem); }
    .container { max-width: var(--maxw); margin: 0 auto; padding: 1rem; }
    .toolbar { display: grid; gap: .75rem; grid-template-columns: 1fr 1fr; }
    .toolbar input, .toolbar select { padding: .7rem .8rem; border: 1px solid #d7d8e0; border-radius: .6rem; }
    @media (max-width: 700px) { .toolbar { grid-template-columns: 1fr; } }
    .course { border: 1px solid #e8e9ef; border-radius: .9rem; padding: 1rem; margin: 1rem 0; background: #fff; }
    .course h2 { margin: 0 0 .5rem; font-size: 1.2rem; }
    .list { display: grid; gap: .5rem; }
    .pdf { display: flex; align-items: center; justify-content: space-between; padding: .65rem .8rem; border: 1px solid #ececf3; border-radius: .6rem; }
    .pdf a { text-decoration: none; color: #0b63c5; word-break: break-word; }
    .badge { font-size: .75rem; padding: .2rem .5rem; border-radius: .5rem; background: #eef6ff; color: #0b63c5; }
    footer { text-align: center; font-size: .85rem; color: #555; padding: 2rem 1rem; }
    .details { border: 1px solid #ececf3; border-radius: .6rem; padding: .6rem .8rem; background: #fcfcff; margin: .5rem 0; }
    details > summary { cursor: pointer; font-weight: 600; color: #0b63c5; }
  </style>

  <script>
window.MathJax = {
  tex: {
    inlineMath: [['\\(','\\)'], ['$', '$']],
    displayMath: [['\\[','\\]'], ['$$','$$']],
    processEscapes: true
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>
<body>
  <header>
    <div class="container">
      <h1>Clases de Matemáticas</h1>
      <p>Material organizado por curso. Haz clic para abrir los PDFs.</p>
      <div class="toolbar">
        <input id="q" type="search" placeholder="Buscar clase (ej: derivadas, ecuaciones)…" />
        <select id="courseFilter">
          <option value="">Todos los cursos</option>
        </select>
      </div>
    </div>
  </header>

  <main class="container">
    <div id="root"></div>
  </main>

  <footer>
    © <span id="year"></span> • Edita la lista en <code>DATA</code> dentro de <code>index.html</code>.
  </footer>

  <script>
  // === EDITA AQUÍ: lista de cursos y PDFs ===========================
  // Ahora "Precálculo" es un grupo con secciones: "Clases" y "Ejercicios".
  // El resto de cursos puede seguir siendo un simple array, como antes.
  const DATA = {
  "Precálculo": {
    sections: {
      "Clases": [
        { titulo: "Clase 1", archivo: "cursos/precalculo/clase1.pdf" },
        { titulo: "Clase 2", archivo: "cursos/precalculo/clase2.pdf" },
        { titulo: "Clase 3", archivo: "cursos/precalculo/clase3.pdf" }
      ],
      "Ejercicios": [
        { titulo: "Operaciones básicas y simplificación", archivo: "cursos/h2/modulo0.html" }
      ]
    }
  },

  // Si quieres mostrar también esta carpeta que ya subiste:
  "Teoría de números": {
    sections: {
      "Clases": [
        { titulo: "Motivación", archivo: "cursos/teoria de numeros/motivacion.pdf" },
        { titulo: "Principio de inducción", archivo: "cursos/teoria de numeros/Principio_induccion.pdf" }
      ],
      "Ejercicios": [
        { titulo: "Principio de Inducción Matemática", archivo: "cursos/teoria de numeros/PIM.pdf" }
      ]
    }
  }
};

  // ==================================================================

  const yearEl = document.getElementById("year");
  yearEl.textContent = new Date().getFullYear();

  const courseFilter = document.getElementById("courseFilter");
  const qInput = document.getElementById("q");
  const root = document.getElementById("root");

  // Rellenar selector de cursos
  Object.keys(DATA).sort().forEach(curso => {
    const opt = document.createElement("option");
    opt.value = curso;
    opt.textContent = curso;
    courseFilter.appendChild(opt);
  });

  // Detectar el tipo de recurso por extensión para el badge
  function badgeFor(file) {
    const ext = (file.split(".").pop() || "").toLowerCase();
    if (ext === "pdf") return "PDF";
    if (ext === "html" || ext === "htm") return "HTML";
    return "Recurso";
  }

  function makeItemRow(item) {
    const row = document.createElement("div");
    row.className = "pdf";

    const link = document.createElement("a");
    link.href = item.archivo;
    link.target = "_blank";
    link.rel = "noopener";
    link.textContent = item.titulo;

    const badge = document.createElement("span");
    badge.className = "badge";
    badge.textContent = badgeFor(item.archivo);

    row.appendChild(link);
    row.appendChild(badge);
    return row;
  }

  function render() {
    const q = qInput.value.trim().toLowerCase();
    const only = courseFilter.value;
    root.innerHTML = "";

    const entries = Object.entries(DATA).filter(([curso]) => !only || curso === only);

    if (entries.length === 0) {
      root.innerHTML = "<p>No hay cursos para mostrar.</p>";
      return;
    }

    for (const [curso, contenido] of entries) {
      const wrap = document.createElement("section");
      wrap.className = "course";

      const h2 = document.createElement("h2");
      h2.textContent = curso;
      wrap.appendChild(h2);

      // Caso 1: curso “simple” (array como antes)
      if (Array.isArray(contenido)) {
        const list = document.createElement("div");
        list.className = "list";

        const filtered = contenido.filter(i =>
          !q || i.titulo.toLowerCase().includes(q) || i.archivo.toLowerCase().includes(q)
        );

        if (filtered.length === 0) {
          const p = document.createElement("p");
          p.textContent = "No hay resultados en este curso para tu búsqueda.";
          list.appendChild(p);
        } else {
          filtered.forEach(item => list.appendChild(makeItemRow(item)));
        }

        wrap.appendChild(list);
        root.appendChild(wrap);
        continue;
      }

      // Caso 2: curso con secciones (objeto { sections: { ... } })
      if (contenido && contenido.sections && typeof contenido.sections === "object") {
        // Creamos un <details> por sección (p. ej., "Clases" y "Ejercicios")
        const secciones = Object.keys(contenido.sections);
        let hayAlgo = false;

        secciones.forEach((nombreSeccion, idx) => {
          const det = document.createElement("details");
          det.className = "details";
          if (idx === 0) det.open = true; // Abrir la primera por defecto

          const sum = document.createElement("summary");
          sum.textContent = nombreSeccion;
          det.appendChild(sum);

          const list = document.createElement("div");
          list.className = "list";

          const items = contenido.sections[nombreSeccion] || [];
          const filtered = items.filter(i =>
            !q || i.titulo.toLowerCase().includes(q) || i.archivo.toLowerCase().includes(q)
          );

          if (filtered.length === 0) {
            const p = document.createElement("p");
            p.textContent = "No hay resultados en esta sección para tu búsqueda.";
            list.appendChild(p);
          } else {
            hayAlgo = true;
            filtered.forEach(item => list.appendChild(makeItemRow(item)));
          }

          det.appendChild(list);
          wrap.appendChild(det);
        });

        if (!hayAlgo && q) {
          const p = document.createElement("p");
          p.textContent = "No hay resultados en este curso para tu búsqueda.";
          wrap.appendChild(p);
        }

        root.appendChild(wrap);
      }
    }
  }

  qInput.addEventListener("input", render);
  courseFilter.addEventListener("change", render);
  render();
</script>


  
</body>
</html>
